function requestPage(e,t){let a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(){if(4===a.readyState)return 200===a.status&&(t(JSON.parse(a.response)),!0)},a.setRequestHeader("ajaxRequestServer","true"),a.send()}function RebootEventLink(a){const e=document.querySelectorAll("#navigationHeader .Hlink");e.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),newpage=t.getAttribute("href"),requestPage("../app/page/"+(newLink=newpage.includes("-")?"list.php?type="+(linkExplode=newpage.split("-"))[1]:newpage+".php"),e=>{a.classList.forEach(e=>{a.classList.remove(e)}),document.querySelector("#navigationHeader .Hlink.active").classList.remove("active"),t.classList.add("active"),a.classList.add(t.getAttribute("attr_class")),a.innerHTML=e,window.history.pushState({direction:newpage},t.getAttribute("attr_class"),window.location.origin+baseUrl+newpage)})})})}window.addEventListener("load",function(){const t=document.querySelector("#header"),a=document.querySelector("#page-content");var e="/__site/__fromscratch/GestionnaireProjet/app/";window.location==window.location.origin+e+"accueil"||window.location==window.location.origin+e||window.location==window.location.origin+e+"index.php"?(window.history.pushState({direction:"accueil"},"accueil",window.location.origin+e+"accueil"),requestPage("../app/page/accueil.php?getHeader=true",e=>{t.innerHTML=e[0],a.classList.forEach(e=>{a.classList.remove(e)}),document.querySelector("[attr_class=accueil]").classList.add("active"),a.classList.add("accueil"),a.innerHTML=e[1],RebootEventLink(a)})):RebootEventLink(a),window.onpopstate=e=>{null==e.state?requestPage("../app/page/accueil.php?getHeader=true",e=>{t.innerHTML=e[0],a.classList.forEach(e=>{a.classList.remove(e)}),document.querySelector("[attr_class=accueil]").classList.add("active"),a.classList.add("accueil"),a.innerHTML=e[1]}):("accueil"==e.state.direction?(classPage="accueil",type="noneA",ajaxCall=classPage+".php"):-1!=e.state.direction.search(/projets-([a-zA-Z]+)/g)?(classPage="view-list",type=e.state.direction.split("-")[1],ajaxCall="list?type="+type):"search"==e.state.direction&&(classPage="searchPage",type="noneS",ajaxCall="search.php"),requestPage("../app/page/"+ajaxCall,e=>{a.classList.forEach(e=>{a.classList.remove(e)}),document.querySelector("#navigationHeader .Hlink.active").classList.remove("active"),document.querySelector("[attr_type="+type+"]").classList.add("active"),a.classList.add(classPage),a.innerHTML=e}))}});