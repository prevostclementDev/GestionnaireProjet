const baseUrl="/__site/__fromscratch/GestionnaireProjet/app/";function requestPage(e,t){let a=new XMLHttpRequest;a.open("GET",e,!0),a.onreadystatechange=function(){if(4===a.readyState)return 200===a.status&&(t(JSON.parse(a.response)),!0)},a.setRequestHeader("ajaxRequestServer","true"),a.send()}function RebootEventLink(a){const e=document.querySelectorAll("#navigationHeader .Hlink");e.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),(newpage=t.getAttribute("href")).includes("-")?(linkExplode=newpage.split("-"),newLink="list.php?type="+linkExplode[1],document.title="Gestionnaire projets | "+linkExplode[0]):(newLink=newpage+".php",document.title="Gestionnaire projets | "+newpage),requestPage("../app/page/"+newLink,e=>{a.classList.forEach(e=>{a.classList.remove(e)}),document.querySelector("#navigationHeader .Hlink.active").classList.remove("active"),t.classList.add("active"),a.classList.add(t.getAttribute("attr_class")),a.innerHTML=e,window.history.pushState({direction:newpage},t.getAttribute("attr_class"),window.location.origin+baseUrl+newpage)})})})}window.addEventListener("load",function(){const a=document.querySelector("#header"),i=document.querySelector("#page-content");window.location==window.location.origin+baseUrl+"accueil"||window.location==window.location.origin+baseUrl||window.location==window.location.origin+baseUrl+"index.php"?(window.history.pushState({direction:"accueil"},"accueil",window.location.origin+baseUrl+"accueil"),requestPage("../app/page/accueil.php?getHeader=true",e=>{a.innerHTML=e[0],i.classList.forEach(e=>{i.classList.remove(e)}),document.querySelector("[attr_class=accueil]").classList.add("active"),i.classList.add("accueil"),i.innerHTML=e[1],RebootEventLink(i)})):RebootEventLink(i),window.onpopstate=e=>{var t;null==e.state?requestPage("../app/page/accueil.php?getHeader=true",e=>{a.innerHTML=e[0],i.classList.forEach(e=>{i.classList.remove(e)}),document.querySelector("[attr_class=accueil]").classList.add("active"),i.classList.add("accueil"),i.innerHTML=e[1]}):(t=/projets-([a-zA-Z]+)/g,"accueil"==e.state.direction?(classPage="accueil",type="noneA",ajaxCall=classPage+".php",document.title="Gestionnaire projets | accueil"):-1!=e.state.direction.search(t)?(classPage="view-list",type=e.state.direction.split("-")[1],ajaxCall="list?type="+type,document.title="Gestionnaire projets | projets"):"search"==e.state.direction&&(classPage="searchPage",type="noneS",ajaxCall="search.php",document.title="Gestionnaire projets | search"),requestPage("../app/page/"+ajaxCall,e=>{i.classList.forEach(e=>{i.classList.remove(e)}),document.querySelector("#navigationHeader .Hlink.active").classList.remove("active"),document.querySelector("[attr_type="+type+"]").classList.add("active"),i.classList.add(classPage),i.innerHTML=e}))}});