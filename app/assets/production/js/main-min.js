function ajax_action(e,t,r,o){let n=new XMLHttpRequest;n.open("POST",e,!0),n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status&&(o(JSON.parse(n.response)),!0)},n.setRequestHeader("ajaxAction",r);const c=new FormData;for(index in t)"string"==typeof t[index]||t[index]instanceof String?c.append(index,t[index]):c.append(index,t[index].value);n.send(c)}function eventFor_finishProject(){const e=document.querySelector("#finishProject");null!=e&&(e.onclick=()=>{confirmePopUp("supprimer le projet","finishProject",PostValue={delete:e.getAttribute("attr_slug")},e=>{"true"==e?(changePage("projets-finish",document.querySelector("#page-content"),document.querySelector("#navigationHeader .Hlink.projets-finish")),setTimeout(()=>{AddreturnIndication("Projet validé avec succès !","valide",document.querySelector("#page-content"))},350)):AddreturnIndication("erreur lors de la finalisation du projet","error",document.querySelector("#page-content")),setTimeout(()=>{loader(),AffreturnIndication()},350)})})}function confirmePopUp(e,t,r,o){const n=document.querySelector("#containerPopUp"),c=document.querySelector("#confirmationBox"),a=document.querySelector("#confirmationBox #validation"),i=document.querySelector("#confirmationBox #annulation"),d=document.querySelector("#confirmationBox h2 span");d.innerHTML=e,n.classList.add("active"),c.classList.add("active"),a.onclick=()=>{n.classList.remove("active"),c.classList.remove("active"),loader(),ajax_action("../app/fonction/ajax.action.reception.php",r,t,o)},i.onclick=()=>{n.classList.remove("active"),c.classList.remove("active")}}function AddreturnIndication(e,t,r){r.innerHTML=r.innerHTML+('<div id="returnInfo" class="'+t+'"><p>'+e+'</p><div class="close"><i class="fa-solid fa-xmark"></i></div></div>');const o=document.querySelector("#returnInfo"),n=document.querySelector("#returnInfo .close");n.onclick=()=>{o.classList.toggle("active")}}function AffreturnIndication(){const e=document.querySelector("#returnInfo");setTimeout(()=>{e.classList.toggle("active")},350)}window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("#submitProject");null!=e&&(e.onclick=()=>{const t={name:document.querySelector("#form-addProject #projectName"),startDate:document.querySelector("#form-addProject #startDate"),endDate:document.querySelector("#form-addProject #endDate"),categorie:document.querySelector("#form-addProject #categorie"),projectDesc:document.querySelector("#form-addProject #projectDesc"),projectOwner:document.querySelector("#form-addProject #projectOwner")};for(var e in t)t[e].style.borderColor="#16302b";1==(error=checkValidate(t))?ajax_action("../app/fonction/ajax.action.reception.php",t,"addproject",e=>{e[0]?changeReturnValue_project("Projet ajouté","valide"):1062==e[2][1]?(changeReturnValue_project("nom de projet déjà existant","error"),t.name.style.borderColor="red"):changeReturnValue_project("erreur, veuillez contacter un administrateur","error")}):(messageError="",error.forEach(e=>{e[0].style.borderColor="red",messageError+=e[1]+" | "}),changeReturnValue_project(messageError,"error"))}),eventFor_finishProject()});